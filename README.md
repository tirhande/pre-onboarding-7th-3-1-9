## **âœ¨ ë°°í¬ë§í¬**

<!-- ## [ë°ëª¨ í˜ì´ì§€ ë°”ë¡œê°€ê¸°](https://pre-onboarding-7th-2-2-9.vercel.app) -->

## â€¼ï¸ ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„

### [3ï¸âƒ£ API í˜¸ì¶œ ìºì‹±](#3ï¸âƒ£-assignment)

### [4ï¸âƒ£ API í˜¸ì¶œ íšŸìˆ˜ ì¤„ì´ê¸°](#4ï¸âƒ£-assignment)

### [6ï¸âƒ£ í‚¤ë³´ë“œë§Œìœ¼ë¡œ ì¶”ì²œ ê²€ìƒ‰ì–´ ì´ë™](#6ï¸âƒ£-assignment)

## ğŸ“ ëª©ì°¨

- [ğŸ“° í”„ë¡œì íŠ¸ ì„¤ëª…](#-í”„ë¡œì íŠ¸-ì„¤ëª…)
- [ğŸ› ï¸ Dev Tools](#-dev-tools)
- [ğŸ–¥ í”„ë¡œì íŠ¸ ì‹¤í–‰ ë°©ë²•](#-í”„ë¡œì íŠ¸-ì‹¤í–‰-ë°©ë²•)

## **ğŸ“° í”„ë¡œì íŠ¸ ì„¤ëª…**

- ê²€ìƒ‰ì°½ êµ¬í˜„ + ê²€ìƒ‰ì–´ ì¶”ì²œ ê¸°ëŠ¥ êµ¬í˜„ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

## **ğŸ›  Dev Tools**

![badge](https://img.shields.io/badge/React-61dafb?logo=React&logoColor=white&style=flat-square) ![badge](https://img.shields.io/badge/Typescript-3178C6?style=flat-square&logo=Typescript&logoColor=white) ![badge](https://img.shields.io/badge/npm-CB3837?logo=npm&logoColor=white&style=flat-square) ![badge](https://img.shields.io/badge/redux_toolkit-764ABC?style=flat-square&logo=redux&logoColor=black) ![badge](https://img.shields.io/badge/styled%20components-DB7093?style=flat-square&logo=styled%20components&logoColor=white) ![badge](https://img.shields.io/badge/Visual%20Studio%20Code-007ACC?style=flat-square&logo=Visual%20Studio%20Code&logoColor=white)

## **ğŸ–¥ í”„ë¡œì íŠ¸ ì‹¤í–‰ ë°©ë²•**

```sh
### Installation
# Repositorie Clone
git clone https://github.com/Wanted-07-team-9/pre-onboarding-7th-3-1-9.git

# npmìœ¼ë¡œ ì„¤ì¹˜ ì§„í–‰
pre-onboarding-7th-3-1-9 %  % npm install

### Usage
# Local Dev Server ì‹¤í–‰
pre-onboarding-7th-3-1-9 % npm start

# Build
pre-onboarding-7th-3-1-9 % npm build
```

## **âœ í† ì˜ ë‚´ìš© ë° ì„ ì •**

[ğŸ– 1ì°¨ í† ì˜ê²°ê³¼](https://github.com/Wanted-07-team-9/pre-onboarding-7th-3-1-9/discussions/1)

[ğŸ– 2ì°¨ í† ì˜ê²°ê³¼](https://github.com/Wanted-07-team-9/pre-onboarding-7th-3-1-9/discussions/2)

<!-- [ğŸ– 3ì°¨ í† ì˜ê²°ê³¼](https://github.com/Wanted-07-team-9/pre-onboarding-7th-2-1-9/discussions/8) -->

<!-- [ğŸ¥‡ ì„ ì • ê²°ê³¼](https://github.com/Wanted-07-team-9/pre-onboarding-7th-2-2-9/pull/15) -->

## **ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°**

```sh
ğŸ“‚ pre-onboarding-7th-3-1-9
â”£ ğŸ“‚ public
â”£ ğŸ“‚ src
â”ƒ   â”£ ğŸ“‚ apis             # axios í˜¸ì¶œ ê´€ë ¨
â”ƒ   â”£ ğŸ“‚ assets           # íŒŒì¼ë“¤ (ì´ë¯¸ì§€ íŒŒì¼ ë“±)
â”ƒ   â”£ ğŸ“‚ hooks            # custom hook
â”ƒ   â”£ ğŸ“‚ pages            # í˜ì´ì§€ ë‹¨ìœ„ë¡œ êµ¬ë¶„
â”ƒ   â”£   â”£ ğŸ“‚ Main         # ë©”ì¸ í˜ì´ì§€
â”ƒ   â”£ ğŸ“‚ redux            # redux/toolkit, store ë””ë ‰í† ë¦¬
â”ƒ   â”£   â”— ğŸ“‚ reducer      # reducer/slice ë””ë ‰í† ë¦¬
â”ƒ   â”£ ğŸ“‚ styles           # global style
â”— ğŸ“„ README.md
```

## **ğŸ’¡ Assignment ëª©ì°¨**

- [1ï¸âƒ£ Assignment](#1ï¸âƒ£-assignment)
- [2ï¸âƒ£ Assignment](#2ï¸âƒ£-assignment)
- [3ï¸âƒ£ Assignment](#3ï¸âƒ£-assignment)
- [4ï¸âƒ£ Assignment](#4ï¸âƒ£-assignment)
- [5ï¸âƒ£ Assignment](#5ï¸âƒ£-assignment)
- [6ï¸âƒ£ Assignment](#6ï¸âƒ£-assignment)

### **1ï¸âƒ£ Assignment**

- ì§ˆí™˜ëª… ê²€ìƒ‰ì‹œ API í˜¸ì¶œ í†µí•´ì„œ ê²€ìƒ‰ì–´ ì¶”ì²œ ê¸°ëŠ¥ êµ¬í˜„
  - ì‚¬ìš©ìê°€ ì…ë ¥í•œ í…ìŠ¤íŠ¸ì™€ ì¼ì¹˜í•˜ëŠ” ë¶€ë¶„ ë³¼ë“œì²˜ë¦¬

<img width="537" alt="search" src="https://user-images.githubusercontent.com/74575497/200851310-d8d964fc-5e51-4b17-aca4-211d7f09c8cc.png">

```sh
ğŸ’¡ # ê²€ìƒ‰ëœ ê²°ê³¼ ë¬¸ìì—´ì—ì„œ "ê²€ìƒ‰í•œ ë‹¨ì–´"ë¥¼ ê¸°ì¤€ìœ¼ë¡œ splitì„ í•˜ê³ , arrayë¥¼ mapìœ¼ë¡œ ë°˜ë³µí•˜ë©´ì„œ
# splitëœ ë¶€ë¶„ë§ˆë‹¤ "ê²€ìƒ‰í•œ ë‹¨ì–´"ë¥¼ ì‚½ì…í•˜ì—¬ bold ì²˜ë¦¬ í•˜ì˜€ìŠµë‹ˆë‹¤.
```

```js
const textArray = sickNm.split(searchWord);
{
  textArray.map((item, i) => (
    <span key={i} className="search_text">
      {item}
      {i !== textArray.length - 1 && <span className="font_bold">{searchWord}</span>}
    </span>
  ));
}
```

### **2ï¸âƒ£ Assignment**

- - ê²€ìƒ‰ì–´ê°€ ì—†ì„ ì‹œ â€œê²€ìƒ‰ì–´ ì—†ìŒâ€ í‘œì¶œ

<img width="528" alt="empty" src="https://user-images.githubusercontent.com/74575497/200851832-41b84cc0-e62e-4d6d-b2ea-9515c94069bc.png">

```sh
ğŸ’¡ # ê²€ìƒ‰ëœ ë¬¸ìì—´ì´ ì—†ì„ê²½ìš° ê²€ìƒ‰ì–´ ì—†ìŒ í‘œì¶œí•˜ì˜€ìŠµë‹ˆë‹¤.
```

```js
{
  items.length === 0 && (
    <DropDownItem>
      <span className="search_text">ê²€ìƒ‰ì–´ê°€ ì—†ìŠµë‹ˆë‹¤</span>
    </DropDownItem>
  );
}
```

### **3ï¸âƒ£ Assignment**

- API í˜¸ì¶œ ìµœì í™”
  - API í˜¸ì¶œë³„ë¡œ ë¡œì»¬ ìºì‹± êµ¬í˜„
    - ìºì‹± ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê¸ˆì§€(React-Query ë“±)
    - ìºì‹±ì„ ì–´ë–»ê²Œ ê¸°ìˆ í–ˆëŠ”ì§€ì— ëŒ€í•œ ë‚´ìš© READMEì— ê¸°ìˆ 

<img width="420" alt="cache" src="https://user-images.githubusercontent.com/74575497/200842174-e1b72327-5569-4b5e-b7d7-594ec5499587.png">
```sh
ğŸ’¡ # ë¸Œë¼ìš°ì €ì˜ Cache Storageì— queryStringì„ ì €ì¥í•˜ê³ ,  
ğŸ’¡ # API í˜¸ì¶œì „ì— Cache Storageì— queryStringì´ ì¡´ì¬í•˜ë©´ í•´ë‹¹ ë°ì´í„° ë¦¬í„´ í•˜ë„ë¡ ì‚¬ìš©  
ğŸ’¡ # Cache Storageì— ì—†ì„ê²½ìš° API í˜¸ì¶œ ì§„í–‰
```

```js
const URL_SICK = 'sick';
const queryStr = new URLSearchParams(payload).toString();
const cacheStorage = await caches.open(URL_SICK);
const cachedResponse = await cacheStorage.match(queryStr);

// cache storageì— í•´ë‹¹ queryStringê°’ì´ ì—†ì„ê²½ìš° API ìš”ì²­ í›„ cache storageì— ì €ì¥
if (!cachedResponse || !cachedResponse.ok) {
  const config = {
    params: payload,
  };
  const { data } = await instance.get(`/${URL_SICK}`, config);
  const resultData = data.slice(0, 7);
  cacheStorage.put(queryStr, new Response(JSON.stringify(resultData)));
  return resultData;
}

// cache storageì— ê°’ì´ ìˆìœ¼ë©´ cacheëœ ë°ì´í„° ë¦¬í„´
const cached = await cachedResponse?.json();
return cached;
```

### **4ï¸âƒ£ Assignment**

- - ì…ë ¥ë§ˆë‹¤ API í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ API í˜¸ì¶œ íšŸìˆ˜ë¥¼ ì¤„ì´ëŠ” ì „ëµ ìˆ˜ë¦½ ë° ì‹¤í–‰
    - READMEì— ì „ëµì— ëŒ€í•œ ì„¤ëª… ê¸°ìˆ 

```sh
ğŸ’¡ # API ìš”ì²­ì— 300msì˜ debounceë¥¼ ì ìš©í•˜ì˜€ê³ ,
ğŸ’¡ # ì‚¬ìš©ìì˜ ì…ë ¥ë§ˆë‹¤ API í˜¸ì¶œ í•˜ëŠ”ê²ƒì´ ì•„ë‹Œ ì‚¬ìš©ìì˜ ì…ë ¥ì´ í•´ë‹¹ ì‹œê°„ë™ì•ˆ ì—†ì„ë•Œë§Œ í˜¸ì¶œí•˜ê²Œ í•˜ì—¬ íšŸìˆ˜ë¥¼ ì¤„ì˜€ìŠµë‹ˆë‹¤.
```

```js
useEffect(() => {
  const getSickName = async () => {
    try {
      dispatch(setIsLoading(true));
      const searchResult = await getSick(searchWord);
      dispatch(setItems(searchResult));
      dispatch(setIsLoading(false));
    } catch (err) {
      dispatch(setIsLoading(false));

      if (err instanceof AxiosError) {
        console.error(err.response?.data);
      } else {
        console.error(err);
      }
    }
  };
  const delay = setTimeout(() => getSickName(), 300);

  return () => clearTimeout(delay);
}, [searchWord, dispatch]);
```

### **5ï¸âƒ£ Assignment**

- - APIë¥¼ í˜¸ì¶œí•  ë•Œ ë§ˆë‹¤ `console.info("calling api")` ì¶œë ¥ì„ í†µí•´ ì½˜ì†”ì°½ì—ì„œ API í˜¸ì¶œ íšŸìˆ˜ í™•ì¸ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •

<img width="384" alt="console" src="https://user-images.githubusercontent.com/74575497/200847063-91f2c08f-9871-4c3c-bac6-6a2dd94a48ba.png">

```sh
ğŸ’¡ # axios instanceì˜ ì¸í„°ì…‰í„°ì—ì„œ request ì „ì— console.info('calling api'); ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
```

```js
instance.interceptors.request.use(
  config => {
    console.info('calling api');
    return config;
  },
  error => {
    return Promise.reject(error.response);
  }
);
```

### **6ï¸âƒ£ Assignment**

- í‚¤ë³´ë“œë§Œìœ¼ë¡œ ì¶”ì²œ ê²€ìƒ‰ì–´ë“¤ë¡œ ì´ë™ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„
  - ì‚¬ìš©ë²• READMEì— ê¸°ìˆ 

```sh
ğŸ’¡ # ê²€ìƒ‰ì°½ì˜ input boxì˜ onKeyDown ì´ë²¤íŠ¸ì— ArrowDown, ArrowUp ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ë•Œ selectIndexê°’ì„ ë³€ê²½í•˜ì˜€ê³ ,
ğŸ’¡ # selectIndexê°’ê³¼ ì•„ì´í…œì˜ index ê°’ì´ ê°™ìœ¼ë©´ over classNameì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.
```

```js
const onKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {
  if(!e.nativeEvent.isComposing) {
    if(e.key === "ArrowDown" && items.length - 1 > selectIndex) {
      dispatch(setSelectIndex(selectIndex + 1))
    }
    if(e.key === "ArrowUp" && selectIndex >= 0) {
      dispatch(setSelectIndex(selectIndex - 1))
    }
  }
}

map.(_, index) => (
  <DropDownItem key={index} className={selectIndex === index ? 'over' : ''}>
)
```
